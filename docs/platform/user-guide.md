# Platform 用户手册

> 面向业务人员的 LingNexus Platform 使用指南

---

## 目录

- [快速入门](#快速入门)
- [Skill 管理](#skill-管理)
- [Agent 构建](#agent-构建)
- [Skill 市场](#skill-市场)
- [协作与分享](#协作与分享)
- [常见问题](#常见问题)

---

## 快速入门

### 注册和登录

1. 访问平台：`http://your-platform.com`
2. 点击"注册"按钮
3. 填写信息：
   - 用户名
   - 邮箱
   - 密码
   - 姓名
4. 完成注册后自动登录

### 界面导航

```
┌─────────────────────────────────────────────────────┐
│  Logo     [搜索]                     用户头像 ▼     │
├─────────────────────────────────────────────────────┤
│                                                      │
│  侧边栏                    主内容区                   │
│  ├─ 首页                 ┌───────────────────────┐  │
│  ├─ Skills              │                       │  │
│  ├─ Agents              │     内容区域           │  │
│  ├─ 市场                │                       │  │
│  └─ 设置                │                       │  │
│                         └───────────────────────┘  │
└─────────────────────────────────────────────────────┘
```

---

## Skill 管理

### 什么是 Skill？

Skill 是智能体的能力模块，定义了特定的功能。例如：
- **合同审查助手**: 审查合同法律风险
- **文献检索**: 搜索和总结医学文献
- **数据分析**: 分析临床试验数据

### 创建 Skill

#### 方式1: 使用可视化编辑器（推荐）

1. 点击左侧菜单"Skills"
2. 点击"创建 Skill"按钮
3. 填写基本信息：
   ```
   Skill 名称: 合同审查助手
   描述: 审查合同法律风险，识别潜在问题条款
   分类: 法务
   标签: 合同, 风控, 法律
   可见性: ☐ 私有  ☑ 团队  ☐ 公开
   ```
4. 编写 Skill 内容：
   ```markdown
   ## 功能

   本 Skill 可以帮助您：

   1. 识别合同中的法律风险条款
   2. 提供修改建议
   3. 生成风险报告

   ## 使用方法

   直接上传合同文件，即可开始审查。

   ## 示例

   **输入**: "审查这份劳动合同"
   **输出**: 风险点分析和修改建议
   ```
5. 上传资源文件（可选）：
   - 点击"上传文件"
   - 选择参考文档（如合同模板、法律条文）
6. 点击"保存"

#### 方式2: 导入现有 Skill

1. 在 Skill 列表页点击"导入"
2. 选择文件：
   - 支持 `.zip` 格式
   - 包含 `SKILL.md` 文件
   - 可包含资源文件
3. 点击"导入"

### 编辑 Skill

1. 在 Skill 列表找到目标 Skill
2. 点击右侧"编辑"按钮
3. 修改内容
4. 点击"保存"或"发布新版本"

**版本管理**：
- 每次保存会创建新版本
- 可在"版本历史"中查看所有版本
- 可回滚到任意版本

### 删除 Skill

1. 在 Skill 列表找到目标 Skill
2. 点击右侧"删除"按钮
3. 选择：
   - **移至回收站**: 软删除，可恢复
   - **永久删除**: 不可恢复

**注意**: 只有 Skill 的创建者和管理员可以删除。

### Skill 权限

| 可见性 | 说明 | 谁可以查看 |
|--------|------|-----------|
| 私有   | 仅自己可见 | 仅创建者 |
| 团队   | 团队成员可见 | 创建者 + 同团队成员 |
| 公开   | 所有人可见 | 所有用户 |

---

## Agent 构建

### 什么是 Agent？

Agent 是一个智能体，可以：
- 组合多个 Skills
- 处理复杂任务
- 与用户交互

**示例场景**：
```
用户: "帮我分析这个药物的临床试验数据"
    ↓
Agent (使用"数据分析" + "报告生成" Skills)
    ↓
输出: 完整的分析报告
```

### 创建 Agent

#### 步骤1: 打开 Agent 构建器

1. 点击左侧菜单"Agents"
2. 点击"创建 Agent"

#### 步骤2: 配置基本信息

```
Agent 名称: 药物分析助手
描述: 分析临床试验数据，生成研究报告
可见性: ☐ 私有  ☑ 团队  ☐ 公开
```

#### 步骤3: 选择 Skills

从左侧 Skills 列表拖拽到画布：

```
┌──────────────────┐    ┌─────────────────────────────┐
│  Skills 组件库    │    │         画布                │
│                  │    │                             │
│  ┌────────────┐  │    │  ┌────────┐    ┌────────┐  │
│  │数据分析    │  │    │  │数据采集│───→│数据分析│  │
│  └────────────┘  │    │  └────────┘    └────────┘  │
│                  │    │                             │
│  ┌────────────┐  │    │  ┌────────┐    ┌────────┐  │
│  │报告生成    │  │    │  │报告生成│              │  │
│  └────────────┘  │    │  └────────┘              │  │
│                  │    │                             │
└──────────────────┘    └─────────────────────────────┘
```

**连接方式**：
- **串行**: Skill A → Skill B → Skill C
- **并行**: 同时执行多个 Skills
- **条件**: 根据结果选择不同路径

#### 步骤4: 配置参数

```
模型选择: [qwen-max ▼]
  ○ qwen-turbo (快速)
  ● qwen-max (推荐)
  ○ deepseek-chat

温度参数: ━━━━━○○ 0.3
  说明: 控制输出多样性
    - 0.0-0.3: 事实性回答
    - 0.4-0.7: 平衡
    - 0.8-1.0: 创意生成

记忆功能: ● 启用  ○ 禁用
  说明: 启用后 Agent 会记住对话历史
```

#### 步骤5: 测试运行

1. 点击"测试"按钮
2. 输入测试文本：
   ```
   输入: 分析司美格鲁肽的 III 期临床试验
   ```
3. 查看 Agent 输出
4. 调整参数或 Skills（如需要）

#### 步骤6: 保存 Agent

1. 点击"保存"按钮
2. Agent 会自动生成唯一 ID

### 运行 Agent

#### 方式1: 在平台中运行

1. 在 Agent 列表找到目标 Agent
2. 点击"运行"
3. 输入文本
4. 查看 Agent 执行过程和结果

**执行过程可视化**：
```
┌─────────────────────────────────────────┐
│  Agent: 药物分析助手                   │
├─────────────────────────────────────────┤
│  输入: 分析司美格鲁肽的临床试验          │
│                                          │
│  执行步骤:                               │
│  ┌─────────────────────────────────┐   │
│  │ ✓ 数据采集 (1.2s)               │   │
│  │   - 采集到 15 条数据             │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ ✓ 数据分析 (3.5s)               │   │
│  │   - 分析了 III 期数据           │   │
│  └─────────────────────────────────┘   │
│  ┌─────────────────────────────────┐   │
│  │ ✓ 报告生成 (2.1s)               │   │
│  │   - 生成了分析报告              │   │
│  └─────────────────────────────────┘   │
│                                          │
│  输出: [查看完整报告]                    │
└─────────────────────────────────────────┘
```

#### 方式2: 通过 API 运行

```python
import requests

# 运行 Agent
response = requests.post(
    "http://your-platform.com/api/v1/agents/agent_123/run",
    headers={"Authorization": "Bearer YOUR_TOKEN"},
    json={
        "input": "分析司美格鲁肽的临床试验",
        "stream": False  # 不使用流式输出
    }
)

result = response.json()
print(result["data"]["output"])
```

---

## Skill 市场

### 浏览 Skills

1. 点击左侧菜单"市场"
2. 浏览方式：
   - **分类浏览**: 法务、医学事务、数据分析等
   - **搜索**: 输入关键词
   - **排序**: 按评分、使用量、最新

### Skill 详情页

点击任意 Skill 卡片查看详情：

```
┌─────────────────────────────────────────────┐
│  合同审查助手                    ⭐ 4.5 (20) │
├─────────────────────────────────────────────┤
│  作者: 张三                                 │
│  分类: 法务                                 │
│  标签: #合同 #风控 #法律                   │
│                                              │
│  描述:                                       │
│  审查合同法律风险，识别潜在问题条款，        │
│  提供修改建议和风险报告。                    │
│                                              │
│  使用统计:                                   │
│  👥 150 次使用  ⭐ 4.5 (20 人评分)         │
│                                              │
│  [使用]  [Fork]  [收藏]                     │
│                                              │
│  版本历史:                                   │
│  • v2.0.0 (2025-01-15)                      │
│  • v1.0.0 (2024-12-01)                      │
└─────────────────────────────────────────────┘
```

### 使用 Skills

#### 直接使用

1. 在 Skill 详情页点击"使用"
2. 该 Skill 会自动添加到你的 Agent 构建器
3. 可以直接运行或组合到其他 Agent

#### Fork Skills

1. 点击"Fork"按钮
2. 输入新 Skill 名称
3. 选择可见性（私有/团队/公开）
4. 点击"确认"

**Fork 后**：
- 你获得该 Skill 的副本
- 可以自由修改
- 原始 Skill 不受影响

### 评分和评论

1. 使用过 Skill 后可以评分
2. 评分范围: 1-5 星
3. 可以添加评论

**评分影响**：
- 影响 Skill 的排序
- 帮助其他用户选择

### 收藏 Skills

1. 点击"收藏"按钮
2. 可以在"我的收藏"中查看所有收藏的 Skills

---

## 协作与分享

### 团队管理

#### 创建团队

1. 点击左侧菜单"设置"
2. 选择"团队管理"
3. 点击"创建团队"
4. 填写团队信息：
   ```
   团队名称: 法务部
   标识符: legal-dept
   描述: 公司法务部门
   最大成员数: 50
   ```

#### 邀请成员

1. 在团队详情页点击"邀请成员"
2. 输入成员用户名或邮箱
3. 选择角色：
   - **管理员**: 完全控制
   - **成员**: 查看、编辑
   - **查看者**: 仅查看
4. 点击"发送邀请"

### 分享 Skills

#### 方式1: 团队分享

1. 编辑 Skill
2. 设置可见性为"团队"
3. 选择团队
4. 保存

**结果**: 团队成员可以在市场中看到该 Skill。

#### 方式2: 公开分享

1. 编辑 Skill
2. 设置可见性为"公开"
3. 保存并提交审核

**审核流程**：
1. 提交后进入待审核状态
2. 管理员审核（1-3个工作日）
3. 审核通过后所有用户可见

### 分享 Agents

类似 Skills，可以设置可见性：
- **私有**: 仅自己可见
- **团队**: 团队成员可见
- **公开**: 所有用户可见

### 导出和导入

#### 导出 Agent/Skill

1. 在详情页点击"导出"
2. 选择格式：
   - `.zip`: 包含所有文件
   - `.json`: 仅配置
3. 下载文件

#### 导入 Agent/Skill

1. 点击"导入"按钮
2. 选择文件（.zip 或 .json）
3. 确认导入

---

## 常见问题

### Q1: 如何调试 Agent？

**A**: 使用测试功能：

1. 在 Agent 构建器点击"测试"
2. 输入测试文本
3. 查看每个 Skill 的执行结果
4. 调整顺序或参数

**调试技巧**：
- 从简单的 1-2 个 Skills 开始
- 逐步增加 Skills
- 查看每步的中间输出

### Q2: Agent 执行失败怎么办？

**A**: 检查以下几点：

1. **Skills 配置**: 确保所有 Skills 存在并可访问
2. **参数设置**: 降低温度，避免输出不稳定
3. **输入文本**: 确保输入清晰明确
4. **查看日志**: 在 Agent 详情页查看执行日志

**常见错误**：
- `Skill not found`: Skill 未正确加载
- `Timeout`: 执行时间过长，考虑拆分任务
- `API error`: 检查模型配置

### Q3: 如何优化 Agent 性能？

**A**: 优化建议：

1. **减少 Skills 数量**: 只使用必要的 Skills
2. **选择合适模型**: 简单任务使用 qwen-turbo
3. **调整温度**: 降低温度可以加快响应
4. **启用缓存**: 重复查询会更快

### Q4: 如何联系技术支持？

**A**:
- 邮箱: support@lingnexus.com
- GitHub Issues: https://github.com/your-org/LingNexus/issues
- 在线帮助: 点击右下角"帮助"按钮

### Q5: 数据安全吗？

**A**: 安全保障：

- ✅ 数据加密存储和传输
- ✅ 细粒度权限控制
- ✅ 完整的审计日志
- ✅ 定期安全审计
- ✅ 符合 FDA 21 CFR Part 11

---

## 下一步

- [管理员手册](admin-guide.md) - 系统管理
- [部署指南](deployment.md) - 自部署
- [视频教程](https://docs.lingnexus.com/tutorials) - 视频学习

---

**需要帮助？**
- 在线帮助: 右下角"帮助"按钮
- 邮箱: support@lingnexus.com
